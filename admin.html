<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuraVault | Admin Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <script>
        if (localStorage.getItem('neuraAdminToken') !== 'valid') {
            window.location.href = 'login.html';
        }
    </script>

    <style>
        /* --- GLOBAL RESET --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        
        :root {
            --bg-dark: #0f172a; 
            --sidebar-bg: #020617;
            --admin-accent: #f43f5e; /* Rose Red */
            --text-white: #f8fafc;
            --text-grey: #94a3b8;
            --border-color: rgba(255,255,255,0.05);
            --card-bg: #1e293b;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-white);
            display: flex; height: 100vh; overflow: hidden;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 260px; background: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            display: flex; flex-direction: column; padding: 1.5rem; flex-shrink: 0;
        }
        .logo { font-size: 1.4rem; font-weight: 800; color: white; margin-bottom: 3rem; display: flex; align-items: center; gap: 8px; }
        .logo span { color: var(--admin-accent); }
        
        .nav-label { font-size: 0.75rem; color: var(--text-grey); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.8rem; font-weight: 600; }
        .nav-item {
            display: flex; align-items: center; gap: 12px; padding: 0.8rem 1rem;
            color: var(--text-grey); border-radius: 10px; cursor: pointer; transition: 0.2s; margin-bottom: 0.5rem;
        }
        .nav-item:hover, .nav-item.active { background: rgba(244, 63, 94, 0.1); color: white; }
        .nav-item.active { border-left: 3px solid var(--admin-accent); }

        /* --- MAIN CONTENT --- */
        .main-wrapper { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        
        header {
            height: 80px; border-bottom: 1px solid var(--border-color);
            display: flex; justify-content: space-between; align-items: center; padding: 0 2rem;
            background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(10px);
        }
        .admin-badge { background: var(--admin-accent); color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 700; letter-spacing: 1px; }

        .content-area { flex: 1; overflow-y: auto; padding: 2rem; position: relative; }
        
        /* View Switching Logic */
        .view-section { display: none; animation: fadeIn 0.4s ease-out; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- VIEW 1: HOME (Dashboard) --- */
        .welcome-banner { margin-bottom: 2rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: var(--card-bg); padding: 1.5rem; border-radius: 12px; border: 1px solid var(--border-color); }
        .stat-val { font-size: 1.8rem; font-weight: 700; margin-bottom: 5px; }
        .stat-label { color: var(--text-grey); font-size: 0.9rem; }

        .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1.5rem; height: 400px; }
        .dash-panel { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; overflow: hidden; display: flex; flex-direction: column; }
        .panel-title { font-weight: 700; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center; }

        /* Task List */
        .task-item { display: flex; gap: 10px; padding: 10px 0; border-bottom: 1px solid var(--border-color); font-size: 0.9rem; align-items: center; }
        .task-check { width: 18px; height: 18px; border: 2px solid var(--text-grey); border-radius: 4px; cursor: pointer; }
        .task-check.checked { background: var(--admin-accent); border-color: var(--admin-accent); }

        /* Calendar */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; text-align: center; font-size: 0.8rem; }
        .cal-day { padding: 8px; border-radius: 4px; color: var(--text-grey); }
        .cal-day.today { background: var(--admin-accent); color: white; font-weight: bold; }
        .cal-day.event { border: 1px solid var(--admin-accent); color: var(--admin-accent); }

        /* Activity Log */
        .log-item { display: flex; gap: 10px; margin-bottom: 15px; font-size: 0.85rem; }
        .log-time { color: var(--text-grey); min-width: 60px; }
        .log-text strong { color: white; }

        /* --- VIEW 2: UPLOAD --- */
        .upload-container {
            background: var(--card-bg); border-radius: 16px; border: 1px solid var(--border-color);
            padding: 2rem; display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;
        }
        .form-group { margin-bottom: 1rem; }
        .form-label { display: block; margin-bottom: 0.5rem; color: var(--text-grey); font-size: 0.9rem; }
        .form-input, .form-select {
            width: 100%; background: #0f172a; border: 1px solid var(--border-color);
            padding: 0.8rem; border-radius: 8px; color: white; outline: none;
        }
        .drop-zone {
            border: 2px dashed var(--border-color); border-radius: 12px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; color: var(--text-grey); height: 100%; cursor: pointer; transition: 0.3s;
        }
        .drop-zone:hover { border-color: var(--admin-accent); background: rgba(244, 63, 94, 0.05); }
        .btn-upload {
            background: var(--admin-accent); color: white; border: none; padding: 1rem;
            border-radius: 8px; font-weight: 600; cursor: pointer; width: 100%; margin-top: 1rem;
        }

        /* --- VIEW 3: ANALYTICS --- */
        .analytics-row { display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-top: 2rem; }
        .chart-box { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 2rem; height: 300px; display: flex; flex-direction: column; justify-content: flex-end; position: relative; }
        /* CSS Bar Chart Simulation */
        .bar-chart { display: flex; justify-content: space-around; align-items: flex-end; height: 100%; width: 100%; gap: 20px; }
        .bar { width: 40px; background: rgba(244, 63, 94, 0.5); border-radius: 4px 4px 0 0; position: relative; transition: height 1s ease; }
        .bar::after { content: attr(data-label); position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%); color: var(--text-grey); font-size: 0.8rem; }
        .bar:hover { background: var(--admin-accent); }

        .retention-graph { width: 100%; height: 100%; position: relative; border-left: 1px solid var(--text-grey); border-bottom: 1px solid var(--text-grey); }
        .line-path { position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to right, transparent, rgba(244, 63, 94, 0.1)); clip-path: polygon(0 80%, 20% 60%, 40% 70%, 60% 40%, 80% 50%, 100% 20%, 100% 100%, 0 100%); }

        /* --- VIEW 4: BROADCAST --- */
        .broadcast-box { max-width: 600px; margin: 0 auto; background: var(--card-bg); padding: 2rem; border-radius: 12px; border: 1px solid var(--border-color); }
        .broadcast-preview { margin-top: 2rem; padding: 1rem; background: rgba(255,255,255,0.05); border-left: 3px solid var(--admin-accent); border-radius: 4px; }

        /* --- VIEW 5: MANAGE BATCHES --- */
        .batch-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
        .batch-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 1.5rem; position: relative; }
        .batch-header { display: flex; justify-content: space-between; margin-bottom: 1rem; }
        .export-btn { background: transparent; border: 1px solid var(--admin-accent); color: var(--admin-accent); padding: 5px 10px; border-radius: 6px; font-size: 0.8rem; cursor: pointer; transition: 0.2s; }
        .export-btn:hover { background: var(--admin-accent); color: white; }

        /* --- MODAL --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 100; display: none; align-items: center; justify-content: center; }
        .modal { background: #1e293b; padding: 2rem; border-radius: 16px; text-align: center; border: 1px solid var(--admin-accent); box-shadow: 0 0 30px rgba(244, 63, 94, 0.2); }

    </style>
</head>
<body>

    <div class="sidebar">
        <div class="logo">üîí Neura<span>Vault</span> <span style="font-size:0.6rem; background:var(--admin-accent); color:white; padding:2px 6px; border-radius:4px; margin-left:5px;">ADMIN</span></div>
        
        <div class="nav-label">Management</div>
        <div class="nav-item active" id="nav-home" onclick="switchView('home')"><span>üìä</span> Home</div>
        <div class="nav-item" id="nav-upload" onclick="switchView('upload')"><span>üì§</span> Upload Content</div>
        <div class="nav-item" id="nav-analytics" onclick="switchView('analytics')"><span>üìà</span> Analytics</div>
        <div class="nav-item" id="nav-broadcast" onclick="switchView('broadcast')"><span>üì¢</span> Broadcast</div>
        <div class="nav-item" id="nav-batches" onclick="switchView('batches')"><span>üë•</span> Manage Batches</div>
        
        <div class="nav-label" style="margin-top: 2rem;">System</div>
        <div class="nav-item" id="nav-settings" onclick="switchView('settings')"><span>‚öôÔ∏è</span> Settings</div>
        <div class="nav-item" onclick="logoutAdmin()" style="color:#ef4444; margin-top: auto;"><span>üö™</span> Logout</div>
    </div>

    <div class="main-wrapper">
        <header>
            <h3>Admin Command Center</h3>
            <div style="display: flex; align-items: center; gap: 15px;">
                <span class="admin-badge">SUPER ADMIN</span>
                <div style="width: 40px; height: 40px; background: #334155; border-radius: 50%;"></div>
            </div>
        </header>

        <div class="content-area">
            
            <section id="view-home" class="view-section active">
                <div class="welcome-banner">
                    <h1 style="font-size: 2rem;">Welcome Back, Admin üëã</h1>
                    <p style="color: var(--text-grey);">Here's what's happening in your vault today.</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-val">$14.2k</div><div class="stat-label">Monthly Revenue</div></div>
                    <div class="stat-card"><div class="stat-val">1,240</div><div class="stat-label">Total Students</div></div>
                    <div class="stat-card"><div class="stat-val">85</div><div class="stat-label">Active Batches</div></div>
                    <div class="stat-card"><div class="stat-val">420GB</div><div class="stat-label">Vault Storage</div></div>
                </div>

                <div class="dashboard-grid">
                    <div class="dash-panel">
                        <div class="panel-title">Pending Tasks <span>üìù</span></div>
                        <div class="task-item"><div class="task-check" onclick="this.classList.toggle('checked')"></div><span>Review Physics A2 syllabus</span></div>
                        <div class="task-item"><div class="task-check" onclick="this.classList.toggle('checked')"></div><span>Approve 5 new instructor accounts</span></div>
                        <div class="task-item"><div class="task-check checked"></div><span style="text-decoration: line-through; opacity: 0.5;">Update Privacy Policy PDF</span></div>
                        <div class="task-item"><div class="task-check" onclick="this.classList.toggle('checked')"></div><span>Schedule maintenance for Sunday</span></div>
                    </div>

                    <div class="dash-panel">
                        <div class="panel-title">Deadlines <span>üìÖ</span></div>
                        <div class="calendar-grid">
                            <span>M</span><span>T</span><span>W</span><span>T</span><span>F</span><span>S</span><span>S</span>
                            <span class="cal-day">1</span><span class="cal-day">2</span><span class="cal-day event">3</span><span class="cal-day">4</span><span class="cal-day">5</span><span class="cal-day">6</span><span class="cal-day">7</span>
                            <span class="cal-day">8</span><span class="cal-day">9</span><span class="cal-day">10</span><span class="cal-day today">11</span><span class="cal-day">12</span><span class="cal-day">13</span><span class="cal-day">14</span>
                        </div>
                        <div style="margin-top: 1rem; font-size: 0.85rem; color: var(--text-grey);">
                            <div style="margin-bottom:5px;"><span style="color:var(--admin-accent)">‚óè</span> Today: Batch A2 Start</div>
                            <div><span style="color:var(--admin-accent)">‚óã</span> Feb 3: Server Backup</div>
                        </div>
                    </div>

                    <div class="dash-panel">
                        <div class="panel-title">Recent Updates <span>‚ö°</span></div>
                        <div class="log-item"><div class="log-time">10:42</div><div class="log-text"><strong>System</strong> auto-backed up database.</div></div>
                        <div class="log-item"><div class="log-time">09:15</div><div class="log-text"><strong>Admin</strong> uploaded "Quantum Mechanics".</div></div>
                        <div class="log-item"><div class="log-time">Yesterday</div><div class="log-text"><strong>User 842</strong> upgraded to Elite.</div></div>
                        <div class="log-item"><div class="log-time">Yesterday</div><div class="log-text"><strong>Alert:</strong> High traffic detected.</div></div>
                    </div>
                </div>
            </section>

            <section id="view-upload" class="view-section">
                <div class="upload-container">
                    <div class="form-side">
                        <h2 style="margin-bottom: 1.5rem;">Upload to Vault</h2>
                        <div class="form-group">
                            <label class="form-label">Course / Batch</label>
                            <select class="form-select"><option>Physics - Batch A2</option><option>Math - Calculus</option></select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Lesson Title</label>
                            <input type="text" class="form-input" id="uploadTitle" placeholder="e.g. Thermodynamics">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Access Tier</label>
                            <select class="form-select" id="uploadTier" style="border-color: var(--admin-accent);">
                                <option value="Free">Free</option><option value="Plus">Plus</option><option value="Elite">Elite (Encrypted)</option>
                            </select>
                        </div>
                        <button class="btn-upload" onclick="simulateUpload()">Start Upload</button>
                    </div>
                    <div class="drop-side">
                        <div class="drop-zone">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">‚òÅÔ∏è</div>
                            <p>Drag files here</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="view-analytics" class="view-section">
                <h2>Platform Analytics</h2>
                <div class="analytics-row">
                    <div class="chart-box">
                        <div class="panel-title">Trending Batches (Enrollments)</div>
                        <div class="bar-chart">
                            <div class="bar" style="height: 40%;" data-label="Bio"></div>
                            <div class="bar" style="height: 80%; background: var(--admin-accent);" data-label="Phys"></div>
                            <div class="bar" style="height: 60%;" data-label="Chem"></div>
                            <div class="bar" style="height: 50%;" data-label="Math"></div>
                            <div class="bar" style="height: 30%;" data-label="CS"></div>
                        </div>
                    </div>
                    <div class="chart-box">
                        <div class="panel-title">Avg Viewer Retention</div>
                        <div class="retention-graph">
                            <div class="line-path"></div>
                            <div style="position: absolute; top: 20px; left: 20px; font-size: 2rem; font-weight: bold; color: var(--admin-accent);">68%</div>
                            <div style="position: absolute; bottom: 10px; right: 10px; color: var(--text-grey);">Last 7 Days</div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="view-broadcast" class="view-section">
                <div class="broadcast-box">
                    <h2 style="margin-bottom: 1.5rem;">Send Announcement</h2>
                    <div class="form-group">
                        <label class="form-label">Target Audience</label>
                        <select class="form-select"><option>All Students</option><option>Physics Batch Only</option><option>Elite Members Only</option></select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Message Title</label>
                        <input type="text" class="form-input" placeholder="e.g. Live Class Rescheduled">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Body</label>
                        <textarea class="form-input" rows="5" placeholder="Type your message..."></textarea>
                    </div>
                    <button class="btn-upload" onclick="alert('Announcement Sent Successfully!')">Broadcast Message</button>
                </div>
            </section>

            <section id="view-batches" class="view-section">
                <h2 style="margin-bottom: 1.5rem;">Active Batches</h2>
                <div class="batch-grid">
                    <div class="batch-card">
                        <div class="batch-header">
                            <h3>Physics A2</h3>
                            <span class="admin-badge" style="background:#10b981;">Active</span>
                        </div>
                        <p style="color: var(--text-grey); margin-bottom: 1rem;">120 Students ‚Ä¢ 12 Lessons</p>
                        <button class="export-btn" onclick="exportData('Physics A2')">‚¨á Export Data (CSV)</button>
                    </div>
                    <div class="batch-card">
                        <div class="batch-header">
                            <h3>Chemistry Org</h3>
                            <span class="admin-badge" style="background:#f59e0b;">Ending Soon</span>
                        </div>
                        <p style="color: var(--text-grey); margin-bottom: 1rem;">95 Students ‚Ä¢ 15 Lessons</p>
                        <button class="export-btn" onclick="exportData('Chemistry')">‚¨á Export Data (CSV)</button>
                    </div>
                    <div class="batch-card">
                        <div class="batch-header">
                            <h3>Math Calc</h3>
                            <span class="admin-badge" style="background:#10b981;">Active</span>
                        </div>
                        <p style="color: var(--text-grey); margin-bottom: 1rem;">200 Students ‚Ä¢ 24 Lessons</p>
                        <button class="export-btn" onclick="exportData('Math')">‚¨á Export Data (CSV)</button>
                    </div>
                </div>
            </section>

            <section id="view-settings" class="view-section">
                <h2>Admin Settings</h2>
                <div style="max-width: 500px; margin-top: 1rem;">
                    <div class="form-group">
                        <label class="form-label">System Name</label>
                        <input type="text" class="form-input" value="NeuraVault Admin">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Admin Email</label>
                        <input type="email" class="form-input" value="superadmin@neuramach.ai" disabled>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notification Preference</label>
                        <select class="form-select"><option>Email & Push</option><option>Email Only</option></select>
                    </div>
                    <button class="btn-upload">Save Changes</button>
                </div>
            </section>

        </div>
    </div>

    <div class="modal-overlay" id="successModal">
        <div class="modal">
            <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
            <h2>Success</h2>
            <p id="successText" style="color: var(--text-grey); margin-bottom: 1.5rem;">Operation completed.</p>
            <button class="btn-upload" onclick="document.getElementById('successModal').style.display='none'">Close</button>
        </div>
    </div>

    <script>
        // NAVIGATION LOGIC
        function switchView(viewName) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById('view-' + viewName).classList.add('active');
            
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById('nav-' + viewName).classList.add('active');
        }

        // LOGOUT LOGIC
        function logoutAdmin() {
            localStorage.removeItem('neuraAdminToken');
            window.location.href = 'login.html';
        }

        // UPLOAD SIMULATION
        function simulateUpload() {
            const btn = document.querySelector('#view-upload .btn-upload');
            const original = btn.innerText;
            btn.innerText = "Processing...";
            btn.style.opacity = "0.7";
            
            setTimeout(() => {
                btn.innerText = original;
                btn.style.opacity = "1";
                document.getElementById('successText').innerText = "Content encrypted and uploaded to Vault.";
                document.getElementById('successModal').style.display = 'flex';
            }, 1500);
        }

        // EXPORT SIMULATION
        function exportData(batchName) {
            document.getElementById('successText').innerText = `Exporting data for ${batchName}... Download starting.`;
            document.getElementById('successModal').style.display = 'flex';
        }
    </script>

</body>
</html>